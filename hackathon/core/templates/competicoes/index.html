{% extends 'base.html' %}
{% load static %}
{% block content %}
    <!--<div class="row" style="padding: 10px">
        <div class="col-md-3 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-row">
                        <i class="fas fa-brain" style="font-size: 60px"></i>
                        <div class="ml-3">
                            <h6>Meus Hakathons</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-row">
                        <i class="fas fa-list-ol" style="font-size: 60px"></i>
                        <div class="ml-3">
                            <h6>Fases</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-row">
                        <i class="fas fa-plus" style="font-size: 60px"></i>
                        <div class="ml-3">
                            <h6>Criar Hackathon</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-row">
                        <i class="fas fa-paper-plane" style="font-size: 60px"></i>
                        <div class="ml-3">
                            <h6>Meus convites</h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row" style="padding: 10px">
        <div class="col-md-9 grid-margin stretch-card d-none d-md-flex">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">NOME_HACKATHON</h4>
                    <p class="card-description">Úlitmo hackathon visitado</p>
                    <div class="row">
                        <div class="col-2">
                            <ul class="nav nav-tabs nav-tabs-vertical" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="home-tab-vertical" data-toggle="tab" href="#home-2"
                                       role="tab" aria-controls="home-2" aria-selected="true">
                                        Sobre
                                        <i class="fa fa-home text-info ml-2"></i>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="profile-tab-vertical" data-toggle="tab" href="#profile-2"
                                       role="tab" aria-controls="profile-2" aria-selected="false">
                                        Mentores
                                        <i class="fa fa-user-tie text-danger ml-2"></i>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="contact-tab-vertical" data-toggle="tab" href="#contact-2"
                                       role="tab" aria-controls="contact-2" aria-selected="false">
                                        Tutores
                                        <i class="far fa-user-ninja text-success ml-2"></i>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="contact-tab-vertical" data-toggle="tab" href="#contact-2"
                                       role="tab" aria-controls="contact-2" aria-selected="false">
                                        Times
                                        <i class="far fa-users text-success ml-2"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-10">
                            <div class="tab-content tab-content-vertical">
                                <div class="tab-pane fade show active" id="home-2" role="tabpanel"
                                     aria-labelledby="home-tab-vertical">
                                    <div class="text-center">
                                    </div>
                                    <h3>Sobre o Hackathon: {{ hackathon.name }}</h3>
                                    <br>
                                    <p>
                                        {{ hackathon.description }}
                                    </p>
                                </div>
                                <div class="tab-pane fade" id="profile-2" role="tabpanel"
                                     aria-labelledby="profile-tab-vertical">
                                    <div class="text-center">
                                        <img class="mb-3 w-25 rounded" src="../../images/faces/face1.jpg"
                                             alt="sample image">
                                        <h5 class="mt-0">Adam John</h5>
                                        <p class="mb-0">UX specialist</p>
                                        <p class="mb-0">Florida</p>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="contact-2" role="tabpanel"
                                     aria-labelledby="contact-tab-vertical">
                                    <h4>Contact us </h4>
                                    <p>
                                        Feel free to contact us if you have any questions!
                                    </p>
                                    <p>
                                        <i class="fa fa-phone text-info"></i>
                                        +123456789
                                    </p>
                                    <p>
                                        <i class="far fa-envelope-open text-success"></i>
                                        contactus@example.com
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Resultado</h4>
                    <ul class="solid-bullet-list">
                        <li>
                            <h6>User confirmation</h6>
                        </li>
                        <li>
                            <h6>Continuous evaluation</h6>
                            <p>Lorem Ipsum is simply dummy text of the printing </p>
                            <p class="text-muted">
                                <i class="far fa-clock"></i>
                                7 months ago.
                            </p>
                        </li>
                        <li>
                            <h6>Promotion</h6>
                            <p>Lorem Ipsum is simply dummy text of the printing </p>
                            <p class="text-muted">
                                <i class="far fa-clock"></i>
                                7 months ago.
                            </p>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>-->

    <div class="row default-identation">
        <div class="col-md-12 col-sm-12 col-xl-12 grid-margin stretch-card  d-md-flex">
            <div class="card text-center">
                <div class="card-body">
                    <h4 class="menu-title">{{ hackathon.name }}</h4>
                    <p class="card-description">{{ hackathon.description }}</p>
                    <div class="template-demo">
                    <button type="button" class="btn btn-info btn-fw btn-icon-text" data-toggle="modal" data-target="#integrantes">
                        Integrantes do Hackathon
                        <i class="fas fa-users btn-icon-append" style="color: white"></i>
                    </button>
                </div>
                </div>

            </div>
        </div>
    </div>

    <div class="row default-identation">
        <div class="col-md-12 col-sm-12 col-xl-12 grid-margin stretch-card  d-md-flex">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Nova atividade</h4>
                    <form id="example-form" method="post" action="{% url 'competicoes:create_phase' %}">
                        {% csrf_token %}
                        <div>
                            <section>
                                <div class="form-group">
                                    <label>Nome</label>
                                    <input class="form-control" name="name" id="name" placeholder="Nome da atividade">
                                </div>
                                <div class="form-group">
                                    <label>Descrição</label>
                                    <textarea class="form-control" name="description" id="description"
                                              placeholder="Descrição da Atividade" required></textarea>
                                </div>
                            </section>
                        </div>
                        <input type="hidden" name="id_hackathon" value="{{ hackathon.id }}">
                        <input class="btn btn-primary btn-fw" type="submit" value="Pronto">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="row default-identation">
        <div class="col-md-12 col-sm-12 col-xl-12 grid-margin stretch-card  d-md-flex">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Atividades</h4>
                    <p class="card-description">
                        As seguintes fases devem ser elaboradas, e enviadas.
                    </p>
                    <div class="row">
                        <div class="col-md-6">
                            <h6 class="card-title">Fazer</h6>
                            {% for  phases in phases_of_hackathon %}
                                <div class="card rounded border mb-2">
                                    <div class="card-body p-3">
                                        <div class="media">
                                            <i class="fas fa-plus icon-sm text-success align-self-center mr-3"></i>
                                            <div class="media-body">
                                                <h6 class="mb-1">{{ phases.name }}</h6>
                                                <p class="mb-0 text-muted">
                                                    {{ phases.description }}
                                                </p>
                                            </div>
                                            <button type="submit" class="btn btn-primary btn-fw left" data-toggle="modal"
                                                    data-target="#FazerTarefa">Fazer</button>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        <div class="col-md-6">
                            <h6 class="card-title">Pronto</h6>
                            <div class="card rounded border mb-2">
                                <div class="card-body p-3">
                                    <div class="media">
                                        <i class="fa fa-check icon-sm text-success align-self-center mr-3"></i>
                                        <div class="media-body">
                                            <h6 class="mb-1">Prohect details</h6>
                                            <p class="mb-0 text-muted">
                                                Get new project details from Greg
                                            </p>
                                        </div>
                                        <button type="submit" class="btn btn-primary btn-fw left" data-toggle="modal"
                                                data-target="#FazerTarefa">Editar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    <!-- Nova tarefa -->
                        <div class="col-lg-6 grid-margin stretch-card">
                          <div class="card">
                              <div class="mt-4">
                                <div class="accordion" id="accordion" role="tablist">
                                  <div class="card">

                                  {% for  phases in phases_of_hackathon %}
                                       <form methods="post" action="{% url 'competicoes:new_activity' %}">
                                    <div class="card-header" role="tab" id="heading-2">
                                      <h6 class="mb-0">
                                        <a class="collapsed" data-toggle="collapse" href="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
                                          {{ phases.name }}
                                        </a>{{ phases.description }}
                                      </h6>
                                    </div>
                                    <div id="collapse-2" class="collapse" role="tabpanel" aria-labelledby="heading-2" data-parent="#accordion">
                                      <div class="card-body">
                                        <div class="row">
                                          <div class="col-12">
                                            <div>
                                                <section>
                                                    <div class="form-group">
                                                        <textarea class="form-control" name="description" placeholder="Resposta da Atividade" required></textarea>
                                                    </div>
                                                </section>
                                            </div>
                                          </div>
                                          <div class="col-12">
                                                <div class="media">
                                                    <input type="hidden" name="id_phase" value="{{ phases.id }}">
                                                    <input type="hidden" name="name" value="{{ phases.name }}">
                                                    <input type="hidden" name="id_team" value="{{ hackathon.team_manager.id }}">
                                                    <input class="btn btn-primary btn-fw" type="submit" value="Pronto">
                                                </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                       </form>
                                  {% endfor %}

                                  </div>
                                </div>
                              </div>
                          </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6 grid-margin">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-0">Participantes deste Hackathon</h4>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-inline-block pt-3">
                            <div class="d-md-flex">
                                <h2 class="mb-0">{{ teams_of_hackathon.count }}</h2>
                            </div>
                        </div>
                        <div class="d-inline-block">
                            <i class="fas fa-handshake text-info icon-lg"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 grid-margin">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title mb-0">Premiação</h4>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-inline-block pt-3">
                            <div class="d-md-flex">
                                <h2 class="mb-0">R$225</h2>
                            </div>
                        </div>
                        <div class="d-inline-block">
                            <i class="fas fa-money-bill-alt text-success icon-lg"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- fazer tarefa modal -->
    <div class="modal fade" id="FazerTarefa" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="card-title">Responda a tarefa</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form id="example-form" class="cmxform" method="post" action="{% url 'create_team' %}">
                    <div class="modal-body">
                        {% csrf_token %}
                        <div>
                            <section>
                                <div class="form-group">
                                    <textarea id="comment" class="form-control" name="comment" required></textarea>
                                </div>
                            </section>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <input type="hidden" name="id_hackathon" value="{{ hackathon.id }}">
                        <input class="btn btn-primary btn-fw" type="submit" value="Pronto">
                        <button class="btn btn-light" type="reset">Limpar</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--modal Integrantes-->
    <div class="modal fade" id="integrantes" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="card">
                <div class="card-body">

                    <div class="row text-center" style="padding-top: 30px;">
                        <div class="col-md-12">
                            <h4>Equipes Integrantes do Hackathon</h4>
                            {% if teams_of_hackathon.count == 0 %}
                                <p>Este hackathon ainda não tem integrantes.</p>
                            {% endif %}
                        </div>
                        <!-- listar integrantes do time -->
                        {% for  teams in teams_of_hackathon %}
                                <div class="col-md-4 grid-margin stretch-card" style="padding: 15px">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex flex-row">
                                                <img class="img-sm rounded-circle"
                                                     src="{% static 'images/logoSmall.png' %}"
                                                     alt="profile image"/>
                                                <div class="ml-3">
                                                    <h6>{{ teams.name }}</h6>
                                                    <p class="text-muted">{{ teams.description }}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light" data-dismiss="modal">Fechar</button>
                    </div>
            </div>
        </div>
    </div>

     {#    Modal nova atividade #}
    <div class="theme-setting-wrapper">
        <div id="settings-trigger" data-toggle="modal" data-target="#NovaAtividade">
            <i class="fas fa-plus"></i>
        </div>
    </div>
    {#    Modal nova atividade#}
    <div class="modal fade" id="NovaAtividade" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="card-title">Adicione uma nova atividade</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <form id="example-form" method="post" action="{% url 'competicoes:create_phase' %}">
                    <div class="modal-body">
                        {% csrf_token %}
                        <section>
                            <div class="form-group">
                                <label>Nome</label>
                                <input class="form-control" name="name" id="name" placeholder="Nome da atividade">
                            </div>
                            <div class="form-group">
                                <label>Descrição</label>
                                <textarea class="form-control" name="description" id="description"
                                          placeholder="Descrição da Atividade" required></textarea>
                            </div>
                        </section>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-light" type="reset">Limpar</button>
                        <input type="hidden" name="id_hackathon" value="{{ hackathon.id }}">
                        <input class="btn btn-primary btn-fw" type="submit" value="Pronto">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

{% endblock %}
